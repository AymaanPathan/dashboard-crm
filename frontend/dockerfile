# docker file is simple text file with instructions to build a docker image

## we need a base image with Node.js [we have webapp so we can use node image]
FROM node


# Create a working directory inside the container
WORKDIR /app

# COPY entire current [project] to /app
COPY . /app

# Install dependencies
RUN npm install

# Expose the port the app runs on
EXPOSE 8000
CMD ["npm", "run","dev"]


# Now build the docker image using below command
# Commands:
    # go to directory where dockerfile is located
    # docker build . [dot means current directory]


# now image is created than list all images using below command
# docker image ls


# now run the image using below command [below command will run the app inside the container not on our local machine]
# docker run <image_id>


# Port 1 :which i want to run the app
# Port 2 : which is exposed in dockerfile using EXPOSE keyword

# now run the image in our local machine using below command
# docker run -p <port 1>:<port 2> <image_id>


# now run the image on detached mode using below command [this helps that even if we close the terminal the app will run in background]
# docker run -d -p <port 1>:<port 2> <image_id>